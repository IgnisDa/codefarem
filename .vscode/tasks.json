{
    "version": "2.0.0",
    "tasks": [
        {
            "label": "Run farem services",
            "detail": "Starts all the farem services",
            "type": "shell",
            "dependsOn": [
                "admin-website",
                "admin-backend",
                "c-service",
                "python-service",
                "cpp-service",
                "go-service",
                "rs-service",
                "zig-service",
                "executor",
                "website",
                "orchestrator"
            ]
        },
        {
            "label": "cpp-service",
            "type": "shell",
            "isBackground": true,
            "command": "cargo watch -cqx 'run --bin cpp-compiler'",
            "detail": "Run the cpp compiler service",
            "options": {
                "env": {
                    "PORT": "5002"
                }
            },
        },
        {
            "label": "c-service",
            "type": "shell",
            "isBackground": true,
            "command": "cargo watch -cqx 'run --bin c-compiler'",
            "detail": "Run the C compiler service",
            "options": {
                "env": {
                    "PORT": "5008"
                }
            },
        },
        {
            "label": "python-service",
            "type": "shell",
            "isBackground": true,
            "command": "cargo watch -cqx 'run --bin python-compiler'",
            "detail": "Run the Python compiler service",
            "options": {
                "env": {
                    "PORT": "5009"
                }
            },
        },
        {
            "label": "zig-service",
            "type": "shell",
            "isBackground": true,
            "command": "cargo watch -cqx 'run --bin zig-compiler'",
            "detail": "Run the zig compiler service",
            "options": {
                "env": {
                    "PORT": "5007"
                }
            },
        },
        {
            "label": "go-service",
            "type": "shell",
            "isBackground": true,
            "command": "cargo watch -cqx 'run --bin go-compiler'",
            "detail": "Run the go compiler service",
            "options": {
                "env": {
                    "PORT": "5003"
                }
            },
        },
        {
            "label": "rs-service",
            "type": "shell",
            "isBackground": true,
            "command": "cargo watch -cqx 'run --bin rs-compiler'",
            "detail": "Run the rust compiler service",
            "options": {
                "env": {
                    "PORT": "5001"
                }
            },
        },
        {
            "label": "executor",
            "type": "shell",
            "isBackground": true,
            "command": "cargo watch -cqx 'run --package executor'",
            "detail": "Run the wasm execution service",
            "options": {
                "env": {
                    "PORT": "5004"
                }
            },
        },
        {
            "label": "orchestrator",
            "type": "shell",
            "isBackground": true,
            "command": "cargo watch --delay 1 -cqx 'run --package orchestrator'",
            "detail": "Run the orchestrator service",
            "options": {
                "env": {
                    "ROCKET_PORT": "8000"
                }
            },
        },
        {
            "label": "website",
            "type": "shell",
            "isBackground": true,
            "command": "moon run website:dev website:dev-routes",
            "detail": "Run the main website server",
            "options": {},
        },
        {
            "label": "mails",
            "type": "shell",
            "isBackground": true,
            "command": "moon run mails:dev",
            "detail": "Run the mail preview server",
            "options": {
                "env": {
                    "PORT": "5006"
                }
            },
        },
        {
            "label": "admin-website",
            "type": "shell",
            "isBackground": true,
            "command": "moon run admin-website:dev",
            "detail": "Run the admin website server",
            "options": {},
        },
        {
            "label": "admin-backend",
            "type": "shell",
            "isBackground": true,
            "command": "cargo watch -cqx 'run --package admin-backend'",
            "detail": "Run the admin backend server",
            "options": {
                "env": {
                    "PORT": "5005"
                }
            },
        },
    ]
}
