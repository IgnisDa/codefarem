type: application

tasks:
  # FIXME: Remove once rome supports config files in parent directories
  lint:
    args:
      - e2e/website

  # FIXME: Remove once rome supports config files in parent directories
  format:
    args:
      - apps/mails

  dev:
    command: cypress open
    local: true

  test:
    command: cypress
    args:
      - run
      - '--headless'
    inputs:
      - cypress.config.ts
      - cypress/**/*
    outputs:
      - cypress/videos
      - cypress/screenshots
    options:
      runInCI: false

workspace:
  inheritedTasks:
    exclude:
      - build
      - test
